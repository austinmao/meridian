{"id": "mem-0001", "timestamp": "2025-11-27T22:08:07Z", "summary": "**Decision:** Beads (steveyegge/beads) and Meridian serve complementary purposes - use Beads for lightweight git-backed issue tracking with dependency graphs, Meridian for heavyweight task briefs requiring planning and approval.\n**Problem:** AI agents need both quick issue filing (discovered bugs, subtasks) and structured task management (complex features with stakeholder approval).\n**Alternatives:** Use only Meridian (rejected: too heavyweight for discovered bugs); use only Beads (rejected: lacks detailed planning structure for complex work).\n**Trade-offs:** Running two systems adds cognitive overhead but provides right-sized tools for each granularity level.\n**Impact/Scope:** Affects how agents manage work - Beads for day-to-day tracking (bd ready, bd create), Meridian for epics/features requiring briefs.\n**Pattern:** Two-layer task management: Beads issues can link to Meridian tasks via beads_issues field in TASK-###.yaml; escalate complex Beads issues to Meridian tasks.", "tags": ["architecture", "tooling", "pattern", "decision"], "links": ["https://github.com/steveyegge/beads", ".meridian/task-backlog.yaml", ".meridian/tasks/"]}
{"id": "mem-0002", "timestamp": "2025-11-27T22:18:56Z", "summary": "**Decision:** Do NOT replace Meridian task system with Beads - use hybrid approach. Beads lacks memory system (memory decay removes old issues), rich task briefs, approval workflows, and context logs.\n**Problem:** Evaluated whether Beads could fully replace Meridian tasks. Found Beads optimizes for agent autonomy while Meridian optimizes for human oversight with structured planning.\n**Alternatives:** Full Beads replacement (rejected: loses requirements/acceptance criteria/risks/validation structure, no memory.jsonl equivalent); Meridian only (rejected: too heavyweight for discovered bugs/subtasks).\n**Trade-offs:** Hybrid adds cognitive overhead of two systems but provides right-sized tools: Beads for lightweight issues, Meridian for complex features needing approval.\n**Impact/Scope:** Confirms mem-0001 recommendation. Meridian memory.jsonl remains essential - Beads has no equivalent and actively removes history.\n**Pattern:** Agent autonomy (Beads) vs human oversight (Meridian) - choose based on trust level and approval requirements.", "tags": ["architecture", "tooling", "decision", "lesson"], "links": ["mem-0001", "https://github.com/steveyegge/beads", ".meridian/memory.jsonl"]}
{"id": "mem-0003", "timestamp": "2025-11-27T22:38:14Z", "summary": "**Decision:** Hybrid Beads+Meridian architecture - Meridian as strategic layer (epics, memory, standards), Beads as tactical layer (issues, dependencies, ready work).\n**Problem:** Needed concrete implementation for hybrid approach recommended in mem-0001/mem-0002.\n**Alternatives:** N/A - this implements the previously decided hybrid pattern.\n**Trade-offs:** Two systems to maintain, but clear separation: complex features needing approval go to Meridian TASK, everything else goes to Beads.\n**Impact/Scope:** Affects task-backlog.yaml (add beads_root field), TASK-###.yaml (add beads.epic_id), session workflow (bd ready → work → bd close → update context).\n**Pattern:** Decision tree: Complex feature needing approval? → Meridian. Architectural decision? → memory.jsonl. Everything else? → Beads. Link via beads_root/epic_id fields.", "tags": ["architecture", "tooling", "pattern"], "links": ["mem-0001", "mem-0002", ".meridian/task-backlog.yaml"]}
{"id": "mem-0004", "timestamp": "2025-11-27T23:16:39Z", "summary": "**Decision:** Created claude-hooks-skills-master agent at .claude/agents/claude-hooks-skills-master.md for Claude Code infrastructure development.\n**Problem:** Needed specialized agent for creating/debugging/securing Claude Code hooks, skills, and slash commands.\n**Alternatives:** Generic Python agent (rejected: lacks Claude Code-specific patterns); manual hook development (rejected: error-prone without structured workflow).\n**Trade-offs:** Agent is comprehensive (~400 lines) but covers full lifecycle; may need trimming if context becomes an issue.\n**Impact/Scope:** Use for any Claude Code customization: hooks (all 8 types), skills (500-line modular pattern), auto-activation, security guards.\n**Pattern:** Reference repos: disler/claude-code-hooks-mastery (hooks, exit codes, security) and diet103/claude-code-infrastructure-showcase (skills, auto-activation). UV single-file Python scripts for hooks; 500-line modular pattern for skills.", "tags": ["tooling", "pattern", "decision"], "links": [".claude/agents/claude-hooks-skills-master.md", "https://github.com/disler/claude-code-hooks-mastery", "https://github.com/diet103/claude-code-infrastructure-showcase"]}
{"id": "mem-0005", "timestamp": "2025-11-29T18:39:33Z", "summary": "**Decision:** Implemented enhanced Claude Code infrastructure with UV-based hooks and auto-activating skills based on patterns from disler/claude-code-hooks-mastery and diet103/claude-code-infrastructure-showcase repos.\n**Problem:** Meridian lacked security guards for dangerous commands, automatic skill suggestions, context backup before compaction, and comprehensive tool logging.\n**Alternatives:** Plain Python hooks (rejected: UV pattern provides self-contained dependencies); manual skill loading (rejected: auto-activation reduces friction).\n**Trade-offs:** UV single-file scripts add ~1s startup overhead per hook, but gain dependency isolation and portability.\n**Impact/Scope:** All Claude sessions now have: security-guard.py (blocks rm -rf, --no-verify, .env access), skill-activator.py (suggests relevant skills), pre-compact-backup.py (preserves context), tool-logger.py (audit trail in logs/).\n**Pattern:** UV single-file scripts with # /// script metadata; skill-rules.json for auto-activation triggers; 500-line modular skill pattern with resources/ subdirectory.", "tags": ["tooling", "pattern", "decision", "architecture"], "links": ["mem-0004", ".claude/hooks/security-guard.py", ".claude/hooks/skill-activator.py", ".claude/skills/skill-rules.json", ".claude/skills/git-safety/", ".claude/skills/meridian-workflow/"]}
{"id": "mem-0006", "timestamp": "2025-11-29T22:00:24Z", "summary": "**Decision:** Integrated GitHub spec-kit (spec-driven development toolkit) with Meridian via speckit-capture.py hook and spec-kit skill.\n**Problem:** Needed structured specification workflow before implementation; Meridian lacked spec-driven planning integration.\n**Alternatives:** Manual spec writing (rejected: no automation); full spec-kit replacement of Meridian (rejected: loses approval workflow and memory system).\n**Trade-offs:** Additional complexity of two systems (spec-kit for specs, Meridian for tracking), but clear separation: spec-kit generates specs → human approves → Meridian tracks execution.\n**Impact/Scope:** New workflow: /speckit.specify → /speckit.plan → approval → TASK-### creation → /speckit.tasks → execution. Hook captures spec-kit output for Meridian integration.\n**Pattern:** Spec-kit commands map to Meridian artifacts: specify→requirements, plan→TASK-###-plan.md, tasks→Beads issues. PostToolUse hook on SlashCommand matcher captures output.", "tags": ["architecture", "tooling", "pattern", "decision"], "links": ["mem-0005", ".claude/hooks/speckit-capture.py", ".claude/skills/spec-kit/", "https://github.com/github/spec-kit"]}
